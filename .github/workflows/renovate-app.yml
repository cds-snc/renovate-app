name: Renovate App

on:
  workflow_dispatch:    

env:
  GITHUB_GITHUB_COM_TOKEN: ${{ secrets.COMPOSER_GITHUB_COM_TOKEN }}
  PACKAGIST_MY_YOAST_COM_TOKEN: ${{ secrets.COMPOSER_MY_YOAST_COM_TOKEN }}
  RENOVATE_WPML_KEY: ${{ secrets.WPML_KEY }}
  RENOVATE_WPML_USER_ID: ${{ secrets.WPML_USER_ID }}

jobs:
  renovate:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout
        uses: actions/checkout@93ea575cb5d8a053eaa0ac8fa3b40d7e05a33cc8 # tag=v3.1.0

      - name: Self-hosted Renovate
        uses: renovatebot/github-action@f65d704dc047d296dba50b502af53c4ae186e49f # tag=v34.10.0
        with:
          configurationFile: config.json
          token: ${{ secrets.RENOVATE_TOKEN }}